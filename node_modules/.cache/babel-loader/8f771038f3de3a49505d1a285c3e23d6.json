{"remainingRequest":"/home/mech-user/Documents/minraji/node_modules/thread-loader/dist/cjs.js!/home/mech-user/Documents/minraji/node_modules/babel-loader/lib/index.js!/home/mech-user/Documents/minraji/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mech-user/Documents/minraji/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mech-user/Documents/minraji/src/components/in_the_room.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mech-user/Documents/minraji/src/components/in_the_room.vue","mtime":1590498028931},{"path":"/home/mech-user/Documents/minraji/node_modules/cache-loader/dist/cjs.js","mtime":1590498027979},{"path":"/home/mech-user/Documents/minraji/node_modules/thread-loader/dist/cjs.js","mtime":1590498028787},{"path":"/home/mech-user/Documents/minraji/node_modules/babel-loader/lib/index.js","mtime":1590498027871},{"path":"/home/mech-user/Documents/minraji/node_modules/cache-loader/dist/cjs.js","mtime":1590498027979},{"path":"/home/mech-user/Documents/minraji/node_modules/vue-loader/lib/index.js","mtime":1590498028819}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21lY2gtdXNlci9Eb2N1bWVudHMvbWlucmFqaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBUEksIHsgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9hcGknOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVZb3V0dWJlLCB7IGdldElkRnJvbVVybCB9IGZyb20gJ3Z1ZS15b3V0dWJlJzsKaW1wb3J0IHsgZ2V0Um9vbSB9IGZyb20gJy4uL2dyYXBocWwvcXVlcmllcyc7CmltcG9ydCB7IGdldFVzZXIgfSBmcm9tICcuLi9ncmFwaHFsL3F1ZXJpZXMnOwppbXBvcnQgeyBkZWxldGVSb29tIH0gZnJvbSAnLi4vZ3JhcGhxbC9tdXRhdGlvbnMnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9yb3V0ZXInOyAvLyBpbXBvcnQgVXNlclN0b3JlIGZyb20gJy4uL21vYngvVXNlclN0b3JlJwoKaW1wb3J0IHsgdXBkYXRlVXNlciB9IGZyb20gIi4uL2dyYXBocWwvbXV0YXRpb25zIjsgLy8gaW1wb3J0IHsgdXBkYXRlUm9vbSB9IGZyb20gIi4uL2dyYXBocWwvbXV0YXRpb25zIjsKCmltcG9ydCB7IGNyZWF0ZU1lc3NhZ2UgfSBmcm9tICIuLi9ncmFwaHFsL211dGF0aW9ucyI7CmltcG9ydCB7IG9uQ3JlYXRlTWVzc2FnZSB9IGZyb20gJy4uL2dyYXBocWwvc3Vic2NyaXB0aW9ucyc7CmltcG9ydCB7IG9uVXBkYXRlUm9vbSB9IGZyb20gJy4uL2dyYXBocWwvc3Vic2NyaXB0aW9ucyc7CmltcG9ydCB7IEF1dGggfSBmcm9tICdhd3MtYW1wbGlmeSc7CmltcG9ydCB7IGxpc3RVc2VycyB9IGZyb20gJy4uL2dyYXBocWwvcXVlcmllcyc7IC8vIGltcG9ydCBmb3J5b3V0dWJlIGZyb20gJy4vZm9yeW91dHViZScKClZ1ZS51c2UoVnVlWW91dHViZSk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncm9vbScsCiAgLy8gY29tcG9uZW50czogewogIC8vICAgZm9yeW91dHViZQogIC8vIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpZGVvX3VybDogIiIsCiAgICAgIHN1YnNjcmlwdGlvbmNoYXQ6IHt9LAogICAgICBzdWJzY3JpcHRpb25tZW06IHt9LAogICAgICBlcnJvcjogIiIsCiAgICAgIHJvb21JZDogIiIsCiAgICAgIG1lbWJlcnM6IFtdLAogICAgICB1c2VyTmFtZTogIiIsCiAgICAgIHVzZXJJZDogIiIsCiAgICAgIHNob3dDb250ZW50OiBmYWxzZSwKICAgICAgbWVzc2FnZXM6IFtdLAogICAgICBjcmVhdGVkVGltZTogIiIsCiAgICAgIG5vd1RpbWU6ICIiIC8vIHBsYXllclZhcnM6IHsKICAgICAgLy8gICBhdXRvcGxheTogMAogICAgICAvLyB9CiAgICAgIC8vIHZpZGVvSWQ6ICc3YklCWjZNMC10VScKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZ2V0cm9vbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGdldFJvb20sIHsKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLnJvb21JZAogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBnZXRyb29tID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VzID0gZ2V0cm9vbS5kYXRhLmdldFJvb20ubWVzc2FnZXMuaXRlbXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5tZXNzYWdlcyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBwbGF5VmlkZW86IGZ1bmN0aW9uIHBsYXlWaWRlbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZW5kU2VlaygzMCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMi5wbGF5ZXIucGxheVZpZGVvKCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gY29uc29sZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIucGxheWVyLmdldFBsYXllclN0YXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MC5sb2cuY2FsbChfY29udGV4dDIudDAsIF9jb250ZXh0Mi50MSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlYWR5OiBmdW5jdGlvbiByZWFkeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk5vdyB3ZSBhcmUgcmVhZHkgZm9yIHN0cmVhbSEhISIpOyAvL3RoaXMucGxheWVyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5wbGF5ZXIub25TdGF0ZUNoYW5nZSwgKQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IGNvbnNvbGU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDEgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAubG9nLmNhbGwoX2NvbnRleHQzLnQwLCBfY29udGV4dDMudDEpOwoKICAgICAgICAgICAgICAgIF90aGlzMy5zZW5kU2VlaygzMCk7IC8vIHRoaXMucGxheWVyLnNlZWtUbyhNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApIC0gdGhpcy5jcmVhdGVkVGltZSkKICAgICAgICAgICAgICAgIC8vIHRoaXMucGxheVZpZGVvKCkKCgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHBsYXlpbmc6IGZ1bmN0aW9uIHBsYXlpbmcoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuc2VuZFNlZWsoMzApCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2UgYXJlIHdhdGNoaW5nISEhJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQucGxheWVyLmdldFBsYXllclN0YXRlKCkpOyAvLyB0aGlzLnBsYXllci5zZWVrVG8oMTApCgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGN1ZWQ6IGZ1bmN0aW9uIGN1ZWQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjdWVkJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBjb25zb2xlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwLmxvZy5jYWxsKF9jb250ZXh0NS50MCwgX2NvbnRleHQ1LnQxKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW5kZWQ6IGZ1bmN0aW9uIGVuZGVkKCkgewogICAgICBjb25zb2xlLmxvZygnZW5kZWQnKTsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSk7CiAgICB9LAogICAgcGF1c2VkOiBmdW5jdGlvbiBwYXVzZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdwYXVzZWQnKTsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSk7CiAgICB9LAogICAgYnVmZmVyaW5nOiBmdW5jdGlvbiBidWZmZXJpbmcoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdidWZmZXJpbmcnKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzNi5wbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNvbnNvbGUubG9nKCc3Nzc3Nzc3JyksIDUwMDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5jaGVja1RpbWUoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZFNlZWs6IGZ1bmN0aW9uIHNlbmRTZWVrKHNlY29uZHMpIHsKICAgICAgdGhpcy5wbGF5ZXIuc2Vla1RvKHNlY29uZHMpOwogICAgfSwKICAgIGNoYXQ6IGZ1bmN0aW9uIGNoYXQoKSB7CiAgICAgIHRoaXMuc2hvd0NvbnRlbnQgPSB0cnVlOwogICAgfSwKICAgIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiBzZW5kTWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgbWVzc2FnZSwgY3JlYXRlbWVzc2FnZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZXNzYWdlaW5wdXQiKTsKCiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY3JlYXRlbWVzc2FnZSA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgX3RoaXM3LnVzZXJOYW1lLAogICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXM3LnVzZXJOYW1lLAogICAgICAgICAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLnZhbHVlLAogICAgICAgICAgICAgICAgICBtZXNzYWdlUm9vbWlkSWQ6IF90aGlzNy5yb29tSWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihjcmVhdGVNZXNzYWdlLCB7CiAgICAgICAgICAgICAgICAgIGlucHV0OiBjcmVhdGVtZXNzYWdlCiAgICAgICAgICAgICAgICB9KSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZXJyb3IgPSBKU09OLnN0cmluZ2lmeShlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlX3Jvb206IGZ1bmN0aW9uIGRlbGV0ZV9yb29tKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciByb29taTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vbWkgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczgucm9vbUlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocm9vbWkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24oZGVsZXRlUm9vbSwgewogICAgICAgICAgICAgICAgICBpbnB1dDogcm9vbWkKICAgICAgICAgICAgICAgIH0pKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5lcnJvciA9IEpTT04uc3RyaW5naWZ5KGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdyb29tJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIC8vIEdyYXBoUUzjgqjjg7Pjg4njg53jgqTjg7Pjg4jjgatzdWJzY3JpcHRpb27jgpLnmbrooYzjgZfjgIFtdXRhdGlvbuOCkuebo+imluOBmeOCiwogICAgICB0aGlzLnN1YnNjcmlwdGlvbmNoYXQgPSBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKG9uQ3JlYXRlTWVzc2FnZSkpLnN1YnNjcmliZSh7CiAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dChldmVudERhdGEpIHsKICAgICAgICAgIHZhciBtZXNzYWdlID0gZXZlbnREYXRhLnZhbHVlLmRhdGEub25DcmVhdGVNZXNzYWdlOwogICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZS5yb29taWQpOwoKICAgICAgICAgIGlmIChtZXNzYWdlLnJvb21pZC5pZCA9PT0gX3RoaXM5LnJvb21JZCkgewogICAgICAgICAgICBfdGhpczkubWVzc2FnZXMucHVzaChtZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLCB0aGlzLnN1YnNjcmlwdGlvbm1lbSA9IEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24ob25VcGRhdGVSb29tKSkuc3Vic2NyaWJlKHsKICAgICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGV2ZW50RGF0YSkgewogICAgICAgICAgdmFyIG1lbWJlciA9IGV2ZW50RGF0YS52YWx1ZS5kYXRhLm9uVXBkYXRlUm9vbTsKICAgICAgICAgIGNvbnNvbGUubG9nKG1lbWJlci51c2Vycy5pdGVtcyk7CgogICAgICAgICAgaWYgKG1lbWJlci5pZCA9PT0gX3RoaXM5LnJvb21JZCkgewogICAgICAgICAgICBfdGhpczkubWVtYmVycyA9IG1lbWJlci51c2Vycy5pdGVtczsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXR1c2VyZGF0YTogZnVuY3Rpb24gaW5pdHVzZXJkYXRhKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgICB2YXIgdXNlciwgdXNlcmRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBdXRoLmN1cnJlbnRBdXRoZW50aWNhdGVkVXNlcigpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczEwLnVzZXJOYW1lID0gdXNlci51c2VybmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGdldHRpbmcgdXNlciBkYXRhLi4uICcsIF9jb250ZXh0OS50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlcm5hbWU6JywgX3RoaXMxMC51c2VyTmFtZSk7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMC51c2VyTmFtZSAhPT0gJycpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihsaXN0VXNlcnMsIHsKICAgICAgICAgICAgICAgICAgZmlsdGVyOiB7CiAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJzogewogICAgICAgICAgICAgICAgICAgICAgZXE6IF90aGlzMTAudXNlck5hbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHVzZXJkYXRhID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyZGF0YS5kYXRhLmxpc3RVc2Vycy5pdGVtc1swXS5pZCk7CiAgICAgICAgICAgICAgICBfdGhpczEwLnVzZXJJZCA9IHVzZXJkYXRhLmRhdGEubGlzdFVzZXJzLml0ZW1zWzBdLmlkOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlTW9kZWw6IGZ1bmN0aW9uIGNsb3NlTW9kZWwoKSB7CiAgICAgIHRoaXMuc2hvd0NvbnRlbnQgPSBmYWxzZTsKICAgIH0sCiAgICBpbml0aWFsaXplZGF0ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZWRhdGUoKSB7CiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgIHRvZGF5LnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpKTsKICAgICAgdmFyIHl5eXkgPSB0b2RheS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW0gPSAoIjAiICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpOwogICAgICB2YXIgZGQgPSAoIjAiICsgdG9kYXkuZ2V0RGF0ZSgpKS5zbGljZSgtMik7CiAgICAgIHZhciBoaCA9ICgiMCIgKyB0b2RheS5nZXRIb3VycygpKS5zbGljZSgtMik7CiAgICAgIHZhciBtaW4gPSAoIjAiICsgdG9kYXkuZ2V0TWludXRlcygpKS5zbGljZSgtMik7CiAgICAgIHZhciBzZWMgPSAoIjAiICsgdG9kYXkuZ2V0U2Vjb25kcygpKS5zbGljZSgtMik7CiAgICAgIHRoaXMubm93VGltZSA9IHl5eXkgKyAnLScgKyBtbSArICctJyArIGRkICsgIiAiICsgaGggKyAnOicgKyBtaW4gKyAnOicgKyBzZWM7CiAgICB9LAogICAgY2hlY2tUaW1lOiBmdW5jdGlvbiBjaGVja1RpbWUoKSB7CiAgICAgIHRoaXMuaW5pdGlhbGl6ZWRhdGUoKTsKICAgICAgdmFyIHdvcmRzQ3JlYXRlZCA9IHRoaXMuY3JlYXRlZFRpbWUuc3BsaXQoJyAnKTsKICAgICAgdmFyIHdvcmRzTm93ID0gdGhpcy5ub3dUaW1lLnNwbGl0KCcgJyk7CiAgICAgIGNvbnNvbGUubG9nKHdvcmRzQ3JlYXRlZFswXSk7CiAgICAgIGNvbnNvbGUubG9nKHdvcmRzTm93WzBdKTsKCiAgICAgIGlmICh3b3Jkc0NyZWF0ZWRbMF0ubWF0Y2god29yZHNOb3dbMF0pICE9IC8oXGR7NH0pLShcZHsyfSktKFxkezJ9KS8pIHsKICAgICAgICBjb25zb2xlLmxvZygiZGF5IG1hdGNoZWQhIik7CiAgICAgICAgdmFyIHRpbWVDcmVhdGVkID0gd29yZHNDcmVhdGVkWzFdLnNwbGl0KCc6Jyk7CiAgICAgICAgdmFyIHRpbWVOb3cgPSB3b3Jkc05vd1sxXS5zcGxpdCgnOicpOwogICAgICAgIHZhciB0aW1lRnJvbVN0YXJ0ID0gKHRpbWVOb3dbMF0gLSB0aW1lQ3JlYXRlZFswXSkgKiAzNjAwICsgKHRpbWVOb3dbMV0gLSB0aW1lQ3JlYXRlZFsxXSkgKiA2MCArICh0aW1lTm93WzJdIC0gdGltZUNyZWF0ZWRbMl0pOwogICAgICAgIGNvbnNvbGUubG9nKHRpbWVGcm9tU3RhcnQpOyAvLyBjb25zb2xlLmxvZygidGltZSBpcyBmYXIhIG1vdmluZyBub3ciKQoKICAgICAgICBpZiAodGltZUZyb21TdGFydCA8IDApIHsKICAgICAgICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCd3YWl0aW5nJyk7CiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMucGxheWVyLnBsYXlWaWRlbygpLCBNYXRoLmFicyh0aW1lRnJvbVN0YXJ0ICogMTAwMCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbmRTZWVrKHRpbWVGcm9tU3RhcnQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBsYXllcjogZnVuY3Rpb24gcGxheWVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy55b3V0dWJlLnBsYXllcjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICB2YXIgdXNlcl9pZCwgcm9vbV9pbmZvLCBtZW1iZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuaW5pdHVzZXJkYXRhKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihnZXRVc2VyLCB7CiAgICAgICAgICAgICAgICBpZDogX3RoaXMxMS51c2VySWQKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgdXNlcl9pZCA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyX2lkLmRhdGEuZ2V0VXNlci5yb29taWQpOwogICAgICAgICAgICAgIHJvb21faW5mbyA9IHVzZXJfaWQuZGF0YS5nZXRVc2VyLnJvb21pZDsKICAgICAgICAgICAgICBfdGhpczExLnZpZGVvX3VybCA9IGdldElkRnJvbVVybChyb29tX2luZm8ubW92aWUpOwogICAgICAgICAgICAgIF90aGlzMTEucm9vbUlkID0gcm9vbV9pbmZvLmlkOwogICAgICAgICAgICAgIF90aGlzMTEuY3JlYXRlZFRpbWUgPSByb29tX2luZm8ucmVzZXJ2ZWR0aW1lOwogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGdldFJvb20sIHsKICAgICAgICAgICAgICAgIGlkOiBfdGhpczExLnJvb21JZAogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgbWVtYmVyID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgIF90aGlzMTEubWVtYmVycyA9IG1lbWJlci5kYXRhLmdldFJvb20udXNlcnMuaXRlbXM7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMxMS5tZW1iZXJzLmxlbmd0aCk7IC8vIGNvbnNvbGUubG9nKHRoaXMudmlkZW9fdXJsKQoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY3JlYXRlZDogIiArIF90aGlzMTEuY3JlYXRlZFRpbWUpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJub3c6ICIgKyBfdGhpczExLm5vd1RpbWUpOwoKICAgICAgICAgICAgICBfdGhpczExLmZldGNoKCk7CgogICAgICAgICAgICAgIF90aGlzMTEuc3Vic2NyaWJlKCk7IC8vdGhpcy5jcmVhdGVkVGltZSA9IGdldF9jcmVhdGVkX3RpbWUodXNlcmlkKQoKCiAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEwKTsKICAgIH0pKSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8v44OB44Oj44OD44OI55S76Z2i44GL44KJ6Zui44KM44KL6Zqb44Gr44CBVW5TdWJzY3JpYmXjgZnjgosKICAgIHRoaXMuc3Vic2NyaXB0aW9uY2hhdC51bnN1YnNjcmliZSgpOwogICAgdGhpcy5zdWJzY3JpcHRpb25tZW0udW5zdWJzY3JpYmUoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgdmFyIHVwZGF0ZWRhdGE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVwZGF0ZWRhdGEgPSB7CiAgICAgICAgICAgICAgICBpZDogX3RoaXMxMi51c2VySWQsCiAgICAgICAgICAgICAgICB1c2VyUm9vbWlkSWQ6IG51bGwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24odXBkYXRlVXNlciwgewogICAgICAgICAgICAgICAgaW5wdXQ6IHVwZGF0ZWRhdGEKICAgICAgICAgICAgICB9KSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi5lcnJvciA9IEpTT04uc3RyaW5naWZ5KGVycm9yKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTEpOwogICAgfSkpKCk7CiAgfQp9OwovKgpmdW5jdGlvbiBnZXRfY3JlYXRlZF90aW1lKHVzZXJpZCl7CiAgaWYgKHVzZXJpZC5kYXRhLmxpc3RVc2Vycy5pdGVtc1swXS5yb29taWQudGltZSAhPT0gL1xkezEwfS9nKSB7CiAgICBjb25zdCByb29tID17CiAgICAgIGlkOiB1c2VyaWQuZGF0YS5saXN0VXNlcnMuaXRlbXNbMF0ucm9vbWlkLmlkLAogICAgICB0aW1lOiBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpLzEwMDApCiAgICB9CiAgICBjb25zb2xlLmxvZygidGltZSBpcyBOT1Qgc2V0IGluIHRoaXMgcm9vbS4gVGhlIHRpbWUgaXMgIiArIHJvb20udGltZSArICIgbm93IGFuZCB3YXMgc2V0LiIpCiAgICBjb25zb2xlLmxvZygicm9vbSBpcyAiICsgcm9vbS5pZCkKICAgIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24odXBkYXRlUm9vbSwgeyBpbnB1dDogcm9vbX0pKQogICAgLnRoZW4oY29uc29sZS5sb2coInNldCBzdWNjZXNzZnVsbHkhIikpCiAgICAuY2F0Y2goZXJyb3IgPT4gdGhpcy5lcnJvciA9IEpTT04uc3RyaW5naWZ5KGVycm9yKSkKICAgIHJldHVybiBuZXcgcm9vbS50aW1lCiAgfQogIGVsc2V7CiAgICBjb25zb2xlLmxvZygidGltZSBpcyBzZXQgaW4gdGhpcyByb29tLiB0aGUgdGltZSBpcyAiICsgdXNlcmlkLmRhdGEubGlzdFVzZXJzLml0ZW1zWzBdLnJvb21pZC50aW1lKQogICAgcmV0dXJuIHVzZXJpZC5kYXRhLmxpc3RVc2Vycy5pdGVtc1swXS5yb29taWQudGltZQogIH0KfQoqLwovL2Z1bmN0aW9uIHNlbmRTZWVrKHNlY29uZHMpIHsKLy8gdGhpcy5wbGF5ZXIuc2Vla1RvKHRoaXMuc2Vjb25kcykKLy99"},{"version":3,"sources":["in_the_room.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<!-- 部屋の中の画面、へやのidによって画面が異なる -->\n<div>\n<header>\n<h1 class=\"headline\">\n      <a>みんラジ!</a>\n</h1>\n  <ul class=\"nav-list\">\n\n      <li class=\"nav-list-item\"><router-link to=\"/\"><button id=\"back-home-button\">ホーム</button></router-link></li>\n      <li class=\"nav-list-item\"><!-- 待機部屋に移動 --><router-link to=\"/room\"><button id=\"go-room-button\">ルーム広場に戻る</button></router-link></li>\n      <li class=\"nav-list-item\"><amplify-sign-out></amplify-sign-out></li>\n  </ul>\t\n</header>\n<main>\n<section>\n    <h2>ルーム</h2>\n\n    <p>ここはルームの中です。動画をみてラジオ体操をしましょう。\n      ラジオ体操が終わったら「ルームを消す」ボタンを押して、ルーム広場に戻りましょう。</p>\n    <div id=\"all-members\">  \n    <h2>参加者一覧</h2>\n    参加者 : {{members.length}} 名\n    <div  v-for=\"member in members\" :key=\"member.id\">\n      {{member.username}}\n    </div>\n    </div>\n   \n    \n    <!-- video-id youtubeの動画のid -->\n    <!--<youtube :video-id=\"video_url\" ref=\"youtube\" @playing=\"playing\"></youtube> -->\n</section>\n    \n<section>   \n    <!-- video-id youtubeの動画のid -->\n    <div align=\"center\"><youtube :video-id=\"video_url\" ref=\"youtube\" \n      @playing=\"playing\" \n      @cued=\"cued\" \n      @ready=\"ready\" \n      @ended=\"ended\" \n      @paused=\"paused\"\n      @buffering=\"buffering\">\n    </youtube>\n    </div>\n    <br>\n    \n    \n  <div id=\"two-buttons-up\">\n      <button v-on:click=\"playVideo\" id=\"play-button\">play</button>\n  <button v-on:click=\"chat\" id=\"chat-button\">チャットする</button>\n  </div>\n\n  <div id=\"two-buttons-down\">\n  <!-- ルームを消す--><button id=\"delete-room-button\" v-on:click=\"delete_room\">ルームを消す</button>\n    <router-link to=\"/room\"><button id=\"go-room-button\">ルーム広場に戻る</button></router-link>\n  </div>\n\n\n  <div id='overlay' v-show='showContent'>\n    <div id=\"main-contents\">\n    <div v-for=\"message in messages\" :key=\"message.id\">\n    <div id=\"message_base\">\n    <div v-bind:class=\"[message.username === userName ? 'message' : 'message_opponent']\">{{message.content}}</div>\n    <div v-bind:class=\"[message.username === userName ? 'username' : 'username_opponent']\">{{message.username}}</div>\n    </div>\n    </div>\n  </div>\n  <table>\n  <tr>\n  <div>\n  <input id=\"messageinput\" placeholder=\"メッセージを入力してください\" size=\"25\" type='text' value=\"\"/>\n  </div>\n  </tr>\n  <tr>\n  <div>\n  <button id = \"sendMessage\" v-on:click=\"sendMessage\">送る</button>\n  <button id=\"chat-close\" v-on:click='closeModel'>閉じる</button>\n  </div>\n  </tr>\n  </table>\n</div>\n    \n    \n\n\n</section>\n</main>\n</div>\n</template>\n\n<script>\nimport API, {  graphqlOperation } from '@aws-amplify/api';\nimport Vue from 'vue'\nimport VueYoutube, {getIdFromUrl} from 'vue-youtube'\nimport { getRoom } from '../graphql/queries';\nimport { getUser } from '../graphql/queries';\nimport { deleteRoom } from '../graphql/mutations'\nimport router from '../router/router'\n// import UserStore from '../mobx/UserStore'\nimport { updateUser } from \"../graphql/mutations\";\n// import { updateRoom } from \"../graphql/mutations\";\nimport { createMessage } from \"../graphql/mutations\";\nimport { onCreateMessage } from '../graphql/subscriptions';\nimport { onUpdateRoom } from '../graphql/subscriptions';\nimport { Auth } from 'aws-amplify'\nimport { listUsers } from '../graphql/queries';\n// import foryoutube from './foryoutube'\n\nVue.use(VueYoutube)\n\nexport default {\n  name: 'room',\n  // components: {\n  //   foryoutube\n  // },\n  data(){\n    return {\n      video_url: \"\",\n      subscriptionchat: {},\n      subscriptionmem: {},\n      error: \"\",\n      roomId: \"\",\n      members: [],\n      userName: \"\",\n      userId: \"\",\n      showContent: false,\n      messages: [],\n      createdTime: \"\",\n      nowTime: \"\"\n      // playerVars: {\n      //   autoplay: 0\n      // }\n      // videoId: '7bIBZ6M0-tU'\n    }\n  },\n  methods :{\n    async fetch(){\n      const getroom = await API.graphql(graphqlOperation(getRoom,{id: this.roomId}))\n      this.messages = getroom.data.getRoom.messages.items\n      console.log(this.messages)\n    },\n    async playVideo() {\n      // await this.player.seekTo(10,true)\n      await this.sendSeek(30)\n      this.player.playVideo()\n      console.log(await this.player.getPlayerState())\n      // Do something after the playVideo command\n      // this.player.seekTo(10)\n    },\n    async ready() {\n      console.log(\"Now we are ready for stream!!!\")\n      //this.player.addEventListener(this.player.onStateChange, )\n      console.log(await this.player.getPlayerState())\n      this.sendSeek(30)\n      // this.player.seekTo(Math.floor(new Date().getTime()/1000) - this.createdTime)\n      // this.playVideo()\n    },\n    async playing() {\n      // await this.sendSeek(30)\n      console.log('we are watching!!!')\n      console.log(this.player.getPlayerState())\n      // this.player.seekTo(10)\n    },\n    async cued() {\n      console.log('cued')\n      console.log(await this.player.getPlayerState())\n\n    },\n    ended() {\n      console.log('ended')\n      console.log(this.player.getPlayerState())\n    },\n    paused() {\n      console.log('paused')\n      console.log(this.player.getPlayerState())\n    },\n    async buffering() {\n      console.log('buffering')\n      console.log(this.player.getPlayerState())\n      setTimeout(console.log('7777777'),5000)\n      await this.checkTime()\n    },\n    sendSeek(seconds) {\n      this.player.seekTo(seconds)\n\n    },\n    chat(){\n      this.showContent = true\n    },\n    async sendMessage(){\n      var message = document.getElementById(\"messageinput\")\n      if(!message.value){return}\n      const createmessage = {\n        id: new Date().getTime() + this.userName,\n        username: this.userName,\n        content: message.value,\n        messageRoomidId: this.roomId\n      }\n      message.value = \"\"\n      await API.graphql(graphqlOperation(createMessage, { input: createmessage }))\n        .catch(error => this.error = JSON.stringify(error))\n    },\n    async delete_room(){\n      const roomi = {\n        id: this.roomId\n      }\n      console.log(roomi)\n      await API.graphql(graphqlOperation(deleteRoom, { input: roomi}))\n        .catch(error => this.error = JSON.stringify(error))\n      router.push({name:'room'})\n    },\n    subscribe(){\n      // GraphQLエンドポイントにsubscriptionを発行し、mutationを監視する\n      this.subscriptionchat = API.graphql(graphqlOperation(onCreateMessage)).subscribe({\n        next: (eventData) => {\n          const message = eventData.value.data.onCreateMessage;\n          console.log(message.roomid)\n          if(message.roomid.id === this.roomId){\n            this.messages.push(message);\n          }\n        }\n      }),\n      this.subscriptionmem = API.graphql(graphqlOperation(onUpdateRoom)).subscribe({\n        next: (eventData) => {\n          const member = eventData.value.data.onUpdateRoom;\n          console.log(member.users.items)\n          if(member.id === this.roomId){\n            this.members = member.users.items\n          }\n        }\n      })\n    },\n    async inituserdata() {\n      try{\n        const user = await Auth.currentAuthenticatedUser()\n        this.userName = user.username\n      } catch (err) {\n        console.log('error getting user data... ', err)\n      }\n      console.log('username:',this.userName)\n      if(this.userName !== ''){\n        const userdata =  await API.graphql(graphqlOperation(listUsers, { filter: {'username':{eq: this.userName}}}))\n        console.log(userdata.data.listUsers.items[0].id)\n        this.userId = userdata.data.listUsers.items[0].id\n      }\n    },\n    closeModel: function(){\n      this.showContent = false\n    },\n    initializedate(){\n      var today = new Date();\n      today.setDate(today.getDate());\n      var yyyy = today.getFullYear();\n      var mm = (\"0\"+(today.getMonth()+1)).slice(-2);\n      var dd = (\"0\"+today.getDate()).slice(-2);\n      var hh = (\"0\"+(today.getHours())).slice(-2);\n      var min = (\"0\"+(today.getMinutes())).slice(-2);\n      var sec = (\"0\"+(today.getSeconds())).slice(-2);\n      this.nowTime = yyyy+'-'+mm+'-'+dd +\" \"+ hh+':'+min+':'+sec;\n    },\n    checkTime(){\n      this.initializedate()\n      const wordsCreated = this.createdTime.split(' ');\n      const wordsNow = this.nowTime.split(' ');\n      console.log( wordsCreated[0])\n      console.log( wordsNow[0])\n      if(wordsCreated[0].match(wordsNow[0]) != /(\\d{4})-(\\d{2})-(\\d{2})/){\n        console.log(\"day matched!\")\n        const timeCreated = wordsCreated[1].split(':')\n        const timeNow = wordsNow[1].split(':')\n        const timeFromStart = (timeNow[0] - timeCreated[0])*3600 + (timeNow[1] - timeCreated[1])*60 + (timeNow[2] - timeCreated[2])\n        console.log(timeFromStart)\n        // console.log(\"time is far! moving now\")\n        if(timeFromStart < 0){\n          this.player.pauseVideo()\n          console.log('waiting')\n          setTimeout(this.player.playVideo(),Math.abs(timeFromStart*1000))\n        }else{\n          this.sendSeek(timeFromStart)  \n        }\n        \n      }\n    }\n  },\n  computed: {\n    player() {\n      return this.$refs.youtube.player\n    },\n\n  },\n  async created(){\n    await this.inituserdata()\n    const user_id = await API.graphql(graphqlOperation(getUser,{id: this.userId}))\n    console.log(user_id.data.getUser.roomid)\n    const room_info = user_id.data.getUser.roomid\n    this.video_url = getIdFromUrl(room_info.movie)\n    this.roomId = room_info.id\n    this.createdTime = room_info.reservedtime\n    const member = await API.graphql(graphqlOperation(getRoom,{id: this.roomId}))\n    this.members = member.data.getRoom.users.items\n    console.log(this.members.length)\n    // console.log(this.video_url)\n    console.log(\"created: \" + this.createdTime)\n    console.log(\"now: \" + this.nowTime)\n    this.fetch()\n    this.subscribe()\n    //this.createdTime = get_created_time(userid)\n  },\n  beforeDestroy() {\n      //チャット画面から離れる際に、UnSubscribeする\n      this.subscriptionchat.unsubscribe();\n      this.subscriptionmem.unsubscribe();\n    },\n  async destroyed(){\n    const updatedata = {\n        id: this.userId,\n        userRoomidId: null\n      }\n    await API.graphql(graphqlOperation(updateUser, { input: updatedata }))\n      .catch(error => this.error = JSON.stringify(error))\n  }\n}\n\n/*\nfunction get_created_time(userid){\n  if (userid.data.listUsers.items[0].roomid.time !== /\\d{10}/g) {\n    const room ={\n      id: userid.data.listUsers.items[0].roomid.id,\n      time: Math.floor(new Date().getTime()/1000)\n    }\n    console.log(\"time is NOT set in this room. The time is \" + room.time + \" now and was set.\")\n    console.log(\"room is \" + room.id)\n    API.graphql(graphqlOperation(updateRoom, { input: room}))\n    .then(console.log(\"set successfully!\"))\n    .catch(error => this.error = JSON.stringify(error))\n    return new room.time\n  }\n  else{\n    console.log(\"time is set in this room. the time is \" + userid.data.listUsers.items[0].roomid.time)\n    return userid.data.listUsers.items[0].roomid.time\n  }\n}\n*/\n//function sendSeek(seconds) {\n  // this.player.seekTo(this.seconds)\n//}\n\n</script>\n\n<style src=\"./chat.css\" />\n\n\n"],"sourceRoot":"src/components"}]}