{"remainingRequest":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/babel-loader/lib/index.js!/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vagrant/workspace/minraji/utsprint/minraji/src/components/room_create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/src/components/room_create.vue","mtime":1590064240000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/cache-loader/dist/cjs.js","mtime":1588818758000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/babel-loader/lib/index.js","mtime":1588818754000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/cache-loader/dist/cjs.js","mtime":1588818758000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/vue-loader/lib/index.js","mtime":1588818841000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3ZhZ3JhbnQvd29ya3NwYWNlL21pbnJhamkvdXRzcHJpbnQvbWlucmFqaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBUEksIHsgZ3JhcGhxbE9wZXJhdGlvbiB9IGZyb20gJ0Bhd3MtYW1wbGlmeS9hcGknOwppbXBvcnQgeyBBdXRoIH0gZnJvbSAnYXdzLWFtcGxpZnknOwppbXBvcnQgeyBjcmVhdGVVc2VyIH0gZnJvbSAiLi4vZ3JhcGhxbC9tdXRhdGlvbnMiOwppbXBvcnQgeyBjcmVhdGVSb29tIH0gZnJvbSAiLi4vZ3JhcGhxbC9tdXRhdGlvbnMiOwppbXBvcnQgeyBsaXN0Um9vbXMgfSBmcm9tICcuLi9ncmFwaHFsL3F1ZXJpZXMnOwppbXBvcnQgeyBsaXN0VXNlcnMgfSBmcm9tICcuLi9ncmFwaHFsL3F1ZXJpZXMnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlci9yb3V0ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Jvb20nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb29tX251bWJlcjogW10sCiAgICAgIHVzZXJEYXRhOiBbXSwKICAgICAgdXNlck5hbWU6ICIiLAogICAgICAvLyBzdWJzY3JpcHRpb246IHt9LAogICAgICBlcnJvcjogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1c2VyUmVhZDogZnVuY3Rpb24gdXNlclJlYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBBUEkuZ3JhcGhxbChncmFwaHFsT3BlcmF0aW9uKGxpc3RVc2VycywgewogICAgICAgIGZpbHRlcjogewogICAgICAgICAgJ3VzZXJuYW1lJzogewogICAgICAgICAgICBlcTogdGhpcy51c2VyTmFtZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKHVzZXJEYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLnVzZXJEYXRhID0gdXNlckRhdGEuZGF0YS5saXN0VXNlcnMuaXRlbXM7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhBcnJheS5mcm9tKHRoaXMudXNlckRhdGEpKTsKICAgICAgaWYgKEFycmF5LmZyb20odGhpcy51c2VyRGF0YSkgIT09IFtdKSByZXR1cm47CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlckRhdGEpOwogICAgICB2YXIgbmV3dXNlciA9IHsKICAgICAgICBpZDogbmV3IERhdGUoKS5nZXRUaW1lKCkgKyB0aGlzLnVzZXJOYW1lLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJOYW1lCiAgICAgIH07CiAgICAgIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24oY3JlYXRlVXNlciwgewogICAgICAgIGlucHV0OiBuZXd1c2VyCiAgICAgIH0pKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMuZXJyb3IgPSBKU09OLnN0cmluZ2lmeShlcnJvcik7CiAgICAgIH0pOwogICAgICB0aGlzLnVzZXJEYXRhID0gW107CiAgICB9LAogICAgcm9vbUNyZWF0ZTogZnVuY3Rpb24gcm9vbUNyZWF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHRoaXMudXNlck5hbWU7CiAgICAgIHZhciBpbnB1dF9tb3ZpZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZpZSIpLnZhbHVlOyAvLyBjb25zdCBtb3ZpZV90aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aXRsZSIpLnZhbHVlCiAgICAgIC8vIGNvbnNvbGUubG9nKG1vdmllX3RpdGxlKQoKICAgICAgdmFyIHJvb20gPSB7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIG1vdmllOiBpbnB1dF9tb3ZpZSAvLyAgdGlsdGUgOiBtb3ZpZV90aXRsZQoKICAgICAgfTsKICAgICAgY29uc29sZS5sb2cocm9vbSk7CiAgICAgIEFQSS5ncmFwaHFsKGdyYXBocWxPcGVyYXRpb24oY3JlYXRlUm9vbSwgewogICAgICAgIGlucHV0OiByb29tCiAgICAgIH0pKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmVycm9yID0gSlNPTi5zdHJpbmdpZnkoZXJyb3IpOwogICAgICB9KTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdyb29tJwogICAgICB9KTsKICAgIH0sCiAgICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgQVBJLmdyYXBocWwoZ3JhcGhxbE9wZXJhdGlvbihsaXN0Um9vbXMsIHsKICAgICAgICBsaW1pdDogMTAwCiAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyb29tX251bWJlcikgewogICAgICAgIHJldHVybiBfdGhpczMucm9vbV9udW1iZXIgPSByb29tX251bWJlci5kYXRhLmxpc3RSb29tcy5pdGVtczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5lcnJvciA9IEpTT04uc3RyaW5naWZ5KGVycm9yKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucm9vbV9udW1iZXIpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gQXV0aC5jdXJyZW50QXV0aGVudGljYXRlZFVzZXIoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpczQudXNlck5hbWUgPSBfY29udGV4dC5zZW50LnVzZXJuYW1lOwoKICAgICAgICAgICAgICBfdGhpczQuZmV0Y2goKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["room_create.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<!-- 部屋作成の画面 -->\n<div>\n<header>\n<h1 class=\"headline\">\n      <a>みんラジ!</a>\n</h1>\n  <ul class=\"nav-list\">\n      <li class=\"nav-list-item\"><router-link to=\"/\" id=\"back-home-button\"> ホーム</router-link></li>\n      <li class=\"nav-list-item\"><router-link to=\"/room\" id=\"back-room-button-header\">ルーム広場に戻る</router-link></li>\n      <li class=\"nav-list-item\"> <amplify-sign-out></amplify-sign-out></li>\n  </ul>\t\n</header>\n<main>\n  <section>\n    <h2>ルーム作成</h2>\n    <p>ここはルーム作成ページです。youtubeにあるラジオ体操の動画のURLを下のボックスにいれて「ルームを作る」ボタンを押してください。\n      「ルームを作る」ボタンを押したら自動的にルーム広場に戻ります。ルーム広場では作成したルームに入ってください。\n    </p>\n    <p>\n    例えば、https://www.youtube.com/watch?v=5sYm_3z6NsQ の動画を使ってルームを作るとします。\n    URLを全部下のボックスに貼ります。\n    </p>\n  </section>\n\n  <div class=\"main-contents\">\n    <!-- 動画のidを入力させる、入力欄と送信ボタン -->\n    <form id=\"movie1\">\n      <input id=\"movie\" placeholder=\"Youtubeのリンク入力をしてください(Enterで送信できます)\" size=\"40\" type='text' value=\"\"/>\n      <input type=\"button\" v-on:click=\"roomCreate\" value=\"ルームを作る\" id=\"room-create-button\">\n    </form>\n    <!--<br>-->\n    <!-- テスト用 -->\n    <!--<button v-on:click=\"fetch\">room_test</button>-->\n    \n    <!-- テスト用そのに -->\n    <!--<button v-on:click=\"userRead\">room_test2</button>-->\n  \n    <div class=\"error\">{{ this.error }}</div>\n  </div>\n  <!--<router-link to=\"/room\" id=\"back-room-button\">ルーム広場に戻る</router-link>-->\n </main>\n</div>\n</template>\n\n<script>\nimport API, {  graphqlOperation } from '@aws-amplify/api';\nimport { Auth } from 'aws-amplify'\nimport { createUser } from \"../graphql/mutations\";\nimport { createRoom } from \"../graphql/mutations\";\nimport { listRooms } from '../graphql/queries';\nimport { listUsers } from '../graphql/queries';\nimport router from '../router/router'\nexport default {\n  name: 'room',\n  data(){\n    return {\n      room_number: [],\n      userData: [],\n      userName: \"\",\n      // subscription: {},\n      error: \"\"\n    }\n  },\n  methods :{\n    userRead(){\n      API.graphql(graphqlOperation(listUsers, { filter: {'username':{eq: this.userName}}}))\n        .then(userData => this.userData = userData.data.listUsers.items)\n      console.log(Array.from(this.userData))\n      if (Array.from(this.userData) !== []) return\n      console.log(this.userData)\n      const newuser = {\n        id: new Date().getTime() + this.userName,\n        username: this.userName\n      }\n      API.graphql(graphqlOperation(createUser, { input: newuser }))\n        .catch(error => this.error = JSON.stringify(error))\n      this.userData = []\n    },\n    roomCreate(){\n      const id = new Date().getTime() + this.userName\n      const input_movie = document.getElementById(\"movie\").value\n      // const movie_title = document.getElementById(\"title\").value\n      // console.log(movie_title)\n      const room = {\n        id : id,\n        movie : input_movie\n      //  tilte : movie_title\n      }\n      console.log(room)\n      API.graphql(graphqlOperation(createRoom, { input: room }))\n        .catch(error => this.error = JSON.stringify(error))\n      router.push({name:'room'})\n    },\n    fetch(){\n      API.graphql(graphqlOperation(listRooms, { limit: 100 }))\n      .then(room_number => this.room_number = room_number.data.listRooms.items)\n      .catch(error => this.error = JSON.stringify(error))\n      console.log(this.room_number)\n    }\n  },\n  async created(){\n    this.userName = (await Auth.currentAuthenticatedUser()).username;\n    this.fetch()\n  },\n}\n</script>\n\n<style>\nheader {\n  height: 120px;\n  width: 100%;\n  padding: 15px 0;\n  /*background-color: #337079;*/\n  background: #dfefff;\n\n}\n\nheader .headline{\n  /*background: #dfefff;\n  box-shadow: 0px 0px 0px 5px #dfefff;\n  border: dashed 1px #96c2fe;\n  padding: 0.2em 0.5em;\n  color: #454545;*/\n  line-height: 100px;\n  float: left;\n  font-size: 50px;\n  margin-left: 100px;\n  color: #454545;\n\n}\nmain {\n  height: 1000px;\n  width: 100%;\n  padding: 15px 0;\n  /*background-color: #337079;*/\n  /*background: #dfefff;*/\n}\n#back-home-button{\n  font-size: 1.4em;\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n  \n#back-home-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n#back-room-button-header {\n  font-size: 1.4em;\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#back-room-button-header:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n#back-room-button {\n  font-size: 1.4em;\n  position: relative;\n  top:20px;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#back-room-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n#room-create-button {\n  font-size: 1.4em;\n  position: relative;\n  left:10px;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n#movie {\n  width:800px;\n  height:100px;\n}\n#movie::placeholder{\n  font-size:1.4em;\n}\n</style>\n"],"sourceRoot":"src/components"}]}