{"remainingRequest":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vagrant/workspace/minraji/utsprint/minraji/src/components/in_the_room.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/src/components/in_the_room.vue","mtime":1590288529000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/css-loader/dist/cjs.js","mtime":1588818774000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1588818841000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/postcss-loader/src/index.js","mtime":1588818811000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/cache-loader/dist/cjs.js","mtime":1588818758000},{"path":"/home/vagrant/workspace/minraji/utsprint/minraji/node_modules/vue-loader/lib/index.js","mtime":1588818841000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmhlYWRlciB7CiAgaGVpZ2h0OiAxMjBweDsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nOiAxNXB4IDA7CiAgLypiYWNrZ3JvdW5kLWNvbG9yOiAjMzM3MDc5OyovCiAgYmFja2dyb3VuZDogI2RmZWZmZjsKCn0KCmhlYWRlciAuaGVhZGxpbmV7CiAgLypiYWNrZ3JvdW5kOiAjZGZlZmZmOwogIGJveC1zaGFkb3c6IDBweCAwcHggMHB4IDVweCAjZGZlZmZmOwogIGJvcmRlcjogZGFzaGVkIDFweCAjOTZjMmZlOwogIHBhZGRpbmc6IDAuMmVtIDAuNWVtOwogIGNvbG9yOiAjNDU0NTQ1OyovCiAgbGluZS1oZWlnaHQ6IDEwMHB4OwogIC8qZmxvYXQ6IGxlZnQ7Ki8KICBmb250LXNpemU6IDUwcHg7CiAgbWFyZ2luLWxlZnQ6IDEwMHB4OwogIGNvbG9yOiAjNDU0NTQ1Owp9CgojYmFjay1ob21lLWJ1dHRvbiB7CiAgZm9udC1zaXplOiAxLjRlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDAuMjVlbSAwLjVlbTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6ICNGRkY7CiAgYmFja2dyb3VuZDogI2ZkOTUzNTsvKuiDjOaZr+iJsiovCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNkMjdkMDA7LyrlsJHjgZfmv4PjgYTnm67jga7oibLjgasqLwogIGJvcmRlci1yYWRpdXM6IDRweDsvKuinkuOBruS4uOOBvyovCiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMiksIDAgMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTkpOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CiAgCiNiYWNrLWhvbWUtYnV0dG9uOmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNmZDk1MzU7CiAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMzApOwp9CgojYmFjay1yb29tLWJ1dHRvbi1oZWFkZXIgewogIGZvbnQtc2l6ZTogMS40ZW07CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwYWRkaW5nOiAwLjI1ZW0gMC41ZW07CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiAjRkZGOwogIGJhY2tncm91bmQ6ICNmZDk1MzU7Lyrog4zmma/oibIqLwogIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjZDI3ZDAwOy8q5bCR44GX5r+D44GE55uu44Gu6Imy44GrKi8KICBib3JkZXItcmFkaXVzOiA0cHg7Lyrop5Ljga7kuLjjgb8qLwogIGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjIpLCAwIDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjE5KTsKICBmb250LXdlaWdodDogYm9sZDsKfQoKI2JhY2stcm9vbS1idXR0b24taGVhZGVyOmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNmZDk1MzU7CiAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMzApOwp9CgojYmFjay1yb29tLWJ1dHRvbiB7CiAgZm9udC1zaXplOiAxLjRlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDAuMjVlbSAwLjVlbTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6ICNGRkY7CiAgYmFja2dyb3VuZDogI2ZkOTUzNTsvKuiDjOaZr+iJsiovCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNkMjdkMDA7LyrlsJHjgZfmv4PjgYTnm67jga7oibLjgasqLwogIGJvcmRlci1yYWRpdXM6IDRweDsvKuinkuOBruS4uOOBvyovCiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMiksIDAgMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTkpOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgojYmFjay1yb29tLWJ1dHRvbjphY3RpdmUgewogIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjZmQ5NTM1OwogIGJveC1zaGFkb3c6IDAgMCAycHggcmdiYSgwLCAwLCAwLCAwLjMwKTsKfQoKCiNwbGF5LWJ1dHRvbiB7CiAgZm9udC1zaXplOiAxLjU1ZW07CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDo3NXB4OwogIGxlZnQ6IDUwMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwYWRkaW5nOiAwLjI1ZW0gMC41ZW07CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiAjRkZGOwogIGJhY2tncm91bmQ6ICNmZDk1MzU7Lyrog4zmma/oibIqLwogIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCAjZDI3ZDAwOy8q5bCR44GX5r+D44GE55uu44Gu6Imy44GrKi8KICBib3JkZXItcmFkaXVzOiA0cHg7Lyrop5Ljga7kuLjjgb8qLwogIGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjIpLCAwIDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjE5KTsKICBmb250LXdlaWdodDogYm9sZDsKfQoKI3BsYXktYnV0dG9uOmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNmZDk1MzU7CiAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMzApOwp9CgojZGVsZXRlLXJvb20tYnV0dG9uIHsKICBmb250LXNpemU6IDEuNjVlbTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbGVmdDogNjAwcHg7CiAgdG9wOjIwcHg7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHBhZGRpbmc6IDAuMjVlbSAwLjVlbTsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgY29sb3I6ICNGRkY7CiAgYmFja2dyb3VuZDogI2ZkOTUzNTsvKuiDjOaZr+iJsiovCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNkMjdkMDA7LyrlsJHjgZfmv4PjgYTnm67jga7oibLjgasqLwogIGJvcmRlci1yYWRpdXM6IDRweDsvKuinkuOBruS4uOOBvyovCiAgYm94LXNoYWRvdzogaW5zZXQgMCAycHggMCByZ2JhKDI1NSwyNTUsMjU1LDAuMiksIDAgMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTkpOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgojZGVsZXRlLXJvb20tYnV0dG9uOmFjdGl2ZSB7CiAgYm9yZGVyLWJvdHRvbTogc29saWQgMnB4ICNmZDk1MzU7CiAgYm94LXNoYWRvdzogMCAwIDJweCByZ2JhKDAsIDAsIDAsIDAuMzApOwp9CgoK"},{"version":3,"sources":["in_the_room.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"in_the_room.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<!-- 部屋の中の画面、へやのidによって画面が異なる -->\n<div>\n<header>\n<h1 class=\"headline\">\n      <a>みんラジ!</a>\n</h1>\n  <ul class=\"nav-list\">\n      <li class=\"nav-list-item\"><router-link to=\"/\" id=\"back-home-button\"> ホーム</router-link></li>\n      <!-- ボタンにしたら、形変わってしまった・・↓ -->\n      <li class=\"nav-list-item\"><!-- 待機部屋に移動 --><button v-on:click=\"leave_room\" id=\"back-room-button-header\">ルーム広場に戻る</button></li>\n      <li class=\"nav-list-item\"><amplify-sign-out></amplify-sign-out></li>\n  </ul>\t\n</header>\n<main>\n<section>\n    <h2>ルーム</h2>\n\n    <p>ここはルームの中です。動画をみてラジオ体操をしましょう。\n      ラジオ体操が終わったら「ルームを消す」ボタンを押して、「ルーム広場に戻る」ボタンを押しましょう。</p>\n    \n    <h2>参加者一覧</h2>\n    参加者 : {{members.length}} 名\n    <div  v-for=\"member in members\" :key=\"member.id\">\n      {{member.username}}\n    </div>\n   \n    \n    <!-- video-id youtubeの動画のid -->\n    <!--<youtube :video-id=\"video_url\" ref=\"youtube\" @playing=\"playing\"></youtube> -->\n</section>\n    \n<section>   \n    <!-- video-id youtubeの動画のid -->\n    <div align=\"center\"><youtube :video-id=\"video_url\" ref=\"youtube\" \n      @playing=\"playing\" \n      @cued=\"cued\" \n      @ready=\"ready\" \n      @ended=\"ended\" \n      @paused=\"paused\"\n      @buffering=\"buffering\">\n    </youtube>\n    </div>\n    <br>\n    <button v-on:click=\"playVideo\" id=\"play-button\">play</button>\n    <!-- <foryoutube :videoId='JyMPBn25wP4'></foryoutube> -->\n    <br>\n    <table>\n    <tr>\n    <td><router-link to=\"/room\" id=\"back-room-button\">ルーム広場に戻る</router-link></td>\n    <td><!-- ルームを消す--><button id=\"delete-room-button\" v-on:click=\"delete_room\">ルームを消す</button></td>\n    </tr>\n    </table>\n\n\n</section>\n</main>\n</div>\n</template>\n\n<script>\nimport API, {  graphqlOperation } from '@aws-amplify/api';\nimport Vue from 'vue'\nimport VueYoutube, {getIdFromUrl} from 'vue-youtube'\nimport { getRoom } from '../graphql/queries';\nimport { getUser } from '../graphql/queries';\nimport { deleteRoom } from '../graphql/mutations'\nimport router from '../router/router'\nimport UserStore from '../mobx/UserStore'\nimport { updateUser } from \"../graphql/mutations\";\nimport { updateRoom } from \"../graphql/mutations\";\n// import foryoutube from './foryoutube'\n\nVue.use(VueYoutube)\n\nexport default {\n  name: 'room',\n  // components: {\n  //   foryoutube\n  // },\n  data(){\n    return {\n      video_url: \"\",\n      subscription: {},\n      error: \"\",\n      roomId: \"\",\n      createdTime: 1589620500,\n      members: [],\n      userName: \"\",\n      userId: \"\",\n      // playerVars: {\n      //   autoplay: 0\n      // }\n      // videoId: '7bIBZ6M0-tU'\n    }\n  },\n  methods :{\n    async playVideo() {\n      // await this.player.seekTo(10,true)\n      await this.sendSeek(30)\n      this.player.playVideo()\n      console.log(await this.player.getPlayerState())\n      // Do something after the playVideo command\n      // this.player.seekTo(10)\n    },\n    async ready() {\n      console.log(\"Now we are ready for stream!!!\")\n      //this.player.addEventListener(this.player.onStateChange, )\n      console.log(await this.player.getPlayerState())\n      this.sendSeek(30)\n      // this.player.seekTo(Math.floor(new Date().getTime()/1000) - this.createdTime)\n      // this.playVideo()\n    },\n    async playing() {\n      // await this.sendSeek(30)\n      console.log('we are watching!!!')\n      console.log(this.player.getPlayerState())\n      // this.player.seekTo(10)\n    },\n    async cued() {\n      console.log('cued')\n      console.log(await this.player.getPlayerState())\n\n    },\n    ended() {\n      console.log('ended')\n      console.log(this.player.getPlayerState())\n    },\n    paused() {\n      console.log('paused')\n      console.log(this.player.getPlayerState())\n    },\n    async buffering() {\n      console.log('buffering')\n      console.log(this.player.getPlayerState())\n      setTimeout(console.log('7777777'),5000)\n      await this.sendSeek(30)\n    },\n    sendSeek(seconds) {\n      this.player.seekTo(seconds)\n\n    },\n    async delete_room(){\n      const roomi = {\n        id: this.roomId\n      }\n      console.log(roomi)\n      await API.graphql(graphqlOperation(deleteRoom, { input: roomi}))\n        .catch(error => this.error = JSON.stringify(error))\n      router.push({name:'room'})\n    },\n    async leave_room(){\n      const updatedata = {\n        id: this.userId,\n        userRoomidId: null\n      }\n      const roominfo = await API.graphql(graphqlOperation(getRoom,{id: this.roomId}))\n      const roommember = roominfo.data.getRoom.numberofmember\n      const addroommenber = {\n        id: this.roomId,\n        numberofmember: roommember - 1\n      }\n      await API.graphql(graphqlOperation(updateUser, { input: updatedata }))\n        .catch(error => this.error = JSON.stringify(error))\n      await API.graphql(graphqlOperation(updateRoom, { input: addroommenber }))\n        .catch(error => this.error = JSON.stringify(error))\n      router.push('/room')\n    }\n    \n  },\n  computed: {\n    player() {\n      return this.$refs.youtube.player\n    },\n\n  },\n  async created(){\n    const { username,userid } = await UserStore\n    console.log(UserStore)\n    this.userName = username\n    this.userId = userid \n    const user_id = await API.graphql(graphqlOperation(getUser,{id: this.userId}))\n    console.log(user_id.data.getUser.roomid)\n    const room_info = user_id.data.getUser.roomid\n    this.video_url = getIdFromUrl(room_info.movie)\n    this.roomId = room_info.id\n    const member = await API.graphql(graphqlOperation(getRoom,{id: this.roomId}))\n    this.members = member.data.getRoom.users.items\n    console.log(this.video_url)\n    //this.createdTime = get_created_time(userid)\n  },\n}\n\n/*\nfunction get_created_time(userid){\n  if (userid.data.listUsers.items[0].roomid.time !== /\\d{10}/g) {\n    const room ={\n      id: userid.data.listUsers.items[0].roomid.id,\n      time: Math.floor(new Date().getTime()/1000)\n    }\n    console.log(\"time is NOT set in this room. The time is \" + room.time + \" now and was set.\")\n    console.log(\"room is \" + room.id)\n    API.graphql(graphqlOperation(updateRoom, { input: room}))\n    .then(console.log(\"set successfully!\"))\n    .catch(error => this.error = JSON.stringify(error))\n    return new room.time\n  }\n  else{\n    console.log(\"time is set in this room. the time is \" + userid.data.listUsers.items[0].roomid.time)\n    return userid.data.listUsers.items[0].roomid.time\n  }\n}\n*/\n//function sendSeek(seconds) {\n  // this.player.seekTo(this.seconds)\n//}\n\n</script>\n\n<style>\nheader {\n  height: 120px;\n  width: 100%;\n  padding: 15px 0;\n  /*background-color: #337079;*/\n  background: #dfefff;\n\n}\n\nheader .headline{\n  /*background: #dfefff;\n  box-shadow: 0px 0px 0px 5px #dfefff;\n  border: dashed 1px #96c2fe;\n  padding: 0.2em 0.5em;\n  color: #454545;*/\n  line-height: 100px;\n  /*float: left;*/\n  font-size: 50px;\n  margin-left: 100px;\n  color: #454545;\n}\n\n#back-home-button {\n  font-size: 1.4em;\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n  \n#back-home-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n#back-room-button-header {\n  font-size: 1.4em;\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#back-room-button-header:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n#back-room-button {\n  font-size: 1.4em;\n  position: relative;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#back-room-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n\n#play-button {\n  font-size: 1.55em;\n  position: relative;\n  top:75px;\n  left: 500px;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#play-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n#delete-room-button {\n  font-size: 1.65em;\n  position: relative;\n  left: 600px;\n  top:20px;\n  display: inline-block;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  color: #FFF;\n  background: #fd9535;/*背景色*/\n  border-bottom: solid 2px #d27d00;/*少し濃い目の色に*/\n  border-radius: 4px;/*角の丸み*/\n  box-shadow: inset 0 2px 0 rgba(255,255,255,0.2), 0 2px 2px rgba(0, 0, 0, 0.19);\n  font-weight: bold;\n}\n\n#delete-room-button:active {\n  border-bottom: solid 2px #fd9535;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.30);\n}\n\n\n</style>\n\n\n"]}]}